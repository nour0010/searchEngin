/* ===========================
   BASIC RESET + GLOBAL STYLE
   =========================== */
body {
  margin: 0;
  padding: 0;
  font-family: "Cairo", sans-serif;
  background: radial-gradient(circle at top, #1a1a1d, #0b0b0c 70%);
  min-height: 100vh;
  display: flex;
  justify-content: center;
  align-items: center;
  color: #e9e7e4;
  overflow: hidden;
}

/* Background video — full-viewport cover behind content */
#bgVideo{
  position: fixed;
  inset: 0; /* top:0; right:0; bottom:0; left:0; */
  width: 100%;
  height: 100%;
  object-fit: cover; /* crop/rescale to cover without letterbox */
  z-index: -50; /* behind everything */
  pointer-events: none; /* let clicks go to page */
  opacity: .94; /* slightly dim if video bright */
  filter: saturate(1.03) contrast(1.03) brightness(.95);
  will-change: transform, opacity;
}

/* soft overlay above video for readable UI */
body::after{
  content: '';
  position: fixed; inset: 0; z-index: -40; pointer-events:none;
  background: linear-gradient(180deg, rgba(0, 0, 0, 0.028), rgba(0,0,0,0.6));
}

/* Respect user's reduced motion preference: pause video */
@media (prefers-reduced-motion: reduce){
  #bgVideo { animation: none; /* keep still */ }
  /* Also pause playback via HTML attribute (if supported) */
  #bgVideo[autoplay] { animation-play-state: paused; }
}

/* =====================================
   BACKGROUND ANIMATION (Luxury Waves)
   ===================================== */
body::before {
  content: "";
  position: fixed;
  width: 120%;
  height: 120%;
  top: -10%;
  left: -10%;
  background: linear-gradient(
    135deg,
    rgba(212, 175, 55, 0.08),
    rgba(255, 255, 255, 0.03),
    rgba(212, 175, 55, 0.05)
  );
  animation: bgMove 12s ease-in-out infinite alternate;
  filter: blur(60px);
  pointer-events: none;
}

@keyframes bgMove {
  from {
    transform: rotate(-2deg) translateY(0);
  }
  to {
    transform: rotate(3deg) translateY(-40px);
  }
}

/* ===========================
   GLASS CONTAINER
   =========================== */
.container {
  position: relative; /* Make this a positioning context for the picker */
  background: rgba(255, 255, 255, 0.04);
  border: 1px solid rgba(212, 175, 55, 0.25);
  box-shadow: 0 8px 35px rgba(0, 0, 0, 0.7), inset 0 0 25px rgba(212, 175, 55, 0.08);
  backdrop-filter: blur(3px);
  -webkit-backdrop-filter: blur(12px);
  padding: 35px 28px;
  width: 360px;
  border-radius: 20px;
  text-align: center;
  border: 2px solid rgba(255, 255, 255, 0.364);
  /* Start hidden — we'll reveal on page load with a smooth fade/slide */
  opacity: 0;
  transform: translateY(8px);
  animation: none;
  /* Slower, more relaxed reveal — extended for a longer slow entrance */
  transition: opacity 2600ms cubic-bezier(.2,.9,.3,1), transform 2200ms cubic-bezier(.2,.9,.3,1);
}

/* reveal state added by JS on page load */
.container.is-visible {
  opacity: 1;
  transform: none;
}

/* ===========================
   LOADING SCREEN
   =========================== */
.loading-screen {
  position: fixed;
  inset: 0;
  z-index: 9999;
  display: flex;
  align-items: center;
  justify-content: center;
  background: linear-gradient(180deg, rgba(0,0,0,0.72), rgba(0,0,0,0.82));
  color: #fff;
  /* smoother hide: animate opacity + transform so it feels fluid */
  transition: opacity 1100ms cubic-bezier(.2,.9,.3,1), transform 1000ms cubic-bezier(.2,.9,.3,1), visibility 1100ms ease;
  opacity: 1;
  transform: translateY(0) scale(1);
}
.loading-screen.hidden { opacity: 0; visibility: hidden; pointer-events: none; transform: translateY(-8px) scale(.985); }
.loading-inner { text-align: center; display: flex; flex-direction: column; gap: 10px; align-items: center; transition: transform 900ms cubic-bezier(.2,.9,.3,1), opacity 900ms ease; }
.loading-center { display:flex; align-items:center; gap:12px; }
.loading-logo { font-size: 38px; color: #ffd873; filter: drop-shadow(0 4px 18px rgba(0,0,0,0.6)); }

/* three-dot loading indicator */
.loading-dots { display:flex; gap:8px; align-items:center; }
.loading-dots span { width:8px; height:8px; background: rgba(255,255,255,0.9); border-radius:50%; opacity:0.25; transform: translateY(0); animation: dotPulse 1.2s infinite ease-in-out; }
.loading-dots span:nth-child(1) { animation-delay: 0ms; }
.loading-dots span:nth-child(2) { animation-delay: 160ms; }
.loading-dots span:nth-child(3) { animation-delay: 320ms; }

@keyframes dotPulse {
  0% { opacity: 0.25; transform: translateY(0); }
  50% { opacity: 1; transform: translateY(-6px); }
  100% { opacity: 0.25; transform: translateY(0); }
}

/* Respect reduced motion: don't animate spinner or fade */
@media (prefers-reduced-motion: reduce) {
  .loading-dots span { animation: none; opacity: 0.9; transform: none; }
  .loading-screen { transition: none; }
  .loading-inner { transition: none; }
}


/* ===========================
   HEADERS + TEXT
   =========================== */
h1 {
  color: #d49537e5;
  margin-bottom: 10px;
  font-size: 26px;
  font-weight: 700;
  transition: transform .25s ease, text-shadow .25s ease;
}

h1:hover {
  transform: scale(1.05);
  text-shadow: 0 0 15px rgba(212, 175, 55, 0.293);
}

/* ===========================
   SEARCH INPUT & EMOJI PICKER
   =========================== */
.search-wrapper {
  position: relative;
  width: 100%;
  display: flex;
  justify-content: center;
  /* Add transition for unified hover effect */
  transition: transform .25s cubic-bezier(.2,.9,.3,1);
}

/* Apply hover to the wrapper to move both elements */
.search-wrapper:hover {
    transform: translateY(-4px);
}

#searchInput {
  width: 90%;
  padding: 14px;
  /* Space for the button on the right */
  padding-right: 50px;
  font-size: 18px;
  text-align: center;
  border-radius: 15px;

  background: rgba(0, 0, 0, 0.45);
  border: 1px solid rgba(255, 255, 255, 0.06);
  color: #fff;

  /* The transform is now on the wrapper, but keep other transitions */
  transition: 
    box-shadow .25s ease,
    border-color .25s ease;
}

/* When user starts typing, align text to the right to avoid overlap */
#searchInput:not(:placeholder-shown) {
  text-align: right;
}

#emoji-picker-btn {
    position: absolute;
    right: 10px; /* Moved further to the right to create more space */
    top: 50%;
    transform: translateY(-50%);
    background: transparent;
    border: none;
    color: #d4a737;
    font-size: 24px;
    cursor: pointer;
    padding: 0 5px;
    /* Transition will be inherited from wrapper for translateY */
    transition: transform .2s ease;
}

#emoji-picker-btn:hover {
    /* Scale effect on button hover is independent */
    transform: translateY(-50%) scale(1.2);
}

#searchInput::placeholder {
  color: #aaa;
}

/* Keep shadow and border effects on input hover/focus */
#searchInput:hover {
  box-shadow: 0 0 18px rgba(212,175,55,0.35);
  border-color: #d4a737ca;
}

#searchInput:focus {
  border-color: #d4af37;
  outline: none;
  box-shadow: 0 0 20px rgba(212,175,55,0.55);
}

/* Emoji Picker Container */
#emoji-picker-container {
    position: absolute; /* Positioned relative to .container */
    left: 100%;      /* Start at the right edge of the container */
    top: 0;
    margin-left: 20px; /* Space between container and picker */

    transform: scale(0.9); /* Initial state for animation */
    transform-origin: top left; /* Animate from top-left */
    width: 320px;
    height: auto; 
    max-height: 400px;
    
    background: rgba(255, 255, 255, 0.04);
    border: 1px solid rgba(212, 175, 55, 0.25);
    box-shadow: 0 8px 35px rgba(0, 0, 0, 0.7), inset 0 0 25px rgba(212, 175, 55, 0.08);
    backdrop-filter: blur(12px);
    -webkit-backdrop-filter: blur(12px);
    border-radius: 15px;

    padding: 15px;
    overflow-y: auto;
    
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(40px, 1fr));
    gap: 10px;
    
    opacity: 0;
    pointer-events: none;
    transition: opacity 0.3s ease, transform 0.3s ease;
    z-index: 100;
}

#emoji-picker-container.visible {
    transform: scale(1);
    opacity: 1;
    pointer-events: auto;
}

#emoji-picker-container .emoji-item {
    cursor: pointer;
    font-size: 24px;
    text-align: center;
    transition: transform 0.2s;
    padding: 2px;
    border-radius: 5px;
}

/* group header inside the emoji picker */
#emoji-picker-container .emoji-group-header {
  grid-column: 1 / -1; /* span full width */
  font-size: 13px;
  font-weight: 700;
  color: #ffd873;
  padding: 6px 10px;
  margin: 4px 0 6px 0;
  text-align: right; /* RTL */
  border-bottom: 1px solid rgba(255,255,255,0.04);
}

#emoji-picker-container .picker-status {
  grid-column: 1 / -1; /* span full width */
  font-size: 12px;
  color: rgba(255,255,255,0.88);
  padding: 6px 8px;
  border-radius: 6px;
  background: rgba(0,0,0,0.18);
  border: 1px solid rgba(255,255,255,0.03);
  text-align: left;
}

/* removed numeric variant badges — not displayed */

/* make picker taller so user can scroll comfortably when there are many items */
#emoji-picker-container {
  max-height: 50vh; /* larger to show more rows */
}

#emoji-picker-container .emoji-item:hover {
    transform: scale(1.25);
    background: rgba(212, 175, 55, 0.2);
}

/* ===========================
   SUGGESTIONS LIST
   =========================== */
#suggestions {
  width: 95%;
  margin: 15px auto 0;
  padding: 0;
  list-style: none;
  max-height: 200px;
  overflow-y: auto;

  border: 1px solid rgba(255,255,255,0.06);
  border-radius: 12px;
  background: rgba(0,0,0,0.35);
  backdrop-filter: blur(8px);
}

#suggestions li {
  padding: 12px 14px;
  border-bottom: 1px solid rgba(255,255,255,0.06);
  cursor: pointer;
  opacity: 0;
  transform: translateY(8px);
  transition: background .25s, transform .25s, opacity .3s;
}

#suggestions li.reveal {
  opacity: 1;
  transform: translateY(0);
}

#suggestions li:hover {
  background: rgba(212,175,55,0.15);
  color: #fff;
  transform: translateY(-3px);
  font-weight: bold;
}

/* ===========================
   BEST SUGGESTION (highlight)
   =========================== */
.best-suggestion {
  background: rgba(212,175,55,0.25);
  border-left: 4px solid #d4af37;
  font-weight: bold;
}

/* Pulse glow */
@keyframes glow {
  from { box-shadow: 0 0 0 rgba(212,175,55,0.0); }
  to { box-shadow: 0 0 18px rgba(212,175,55,0.6); }
}

.best-suggestion {
  animation: glow 1.6s infinite alternate ease-in-out;
}

/* badge */
.best-badge {
  font-size: 12px;
  color: #d4af37;
  margin-right: 6px;
}

/* ===========================
   RESPONSIVE
   =========================== */
@media (max-width: 400px) {
  .container {
    width: 90%;
    padding: 25px;
  }

  #searchInput {
    font-size: 16px;
  }
}

/* ===========================
   FLOATING AUDIO BUTTON (top-left, logo-only)
   =========================== */
.floating-audio {
  position: fixed;
  top: 18px;
  left: 18px;
  z-index: 120; /* above the main container */
  display: flex;
  align-items: center;
  justify-content: center;
  pointer-events: auto;
}

.floating-audio-btn {
  width: 52px;
  height: 52px;
  border-radius: 999px; /* fully rounded */
  border: 1px solid rgba(255,255,255,0.06);
  background: rgba(255,255,255,0.06); /* subtle translucent */
  backdrop-filter: blur(6px);
  -webkit-backdrop-filter: blur(6px);
  box-shadow: 0 6px 20px rgba(0,0,0,0.5);
  display: inline-flex;
  align-items: center;
  justify-content: center;
  transition: transform .12s ease, box-shadow .12s ease, background .12s ease, opacity .12s ease;
  color: #ffd873; /* logo color */
}

.floating-audio-btn svg { filter: drop-shadow(0 2px 6px rgba(0,0,0,0.45)); }

.floating-audio-btn:hover { transform: translateY(-2px); box-shadow: 0 8px 26px rgba(0,0,0,0.55); }

.floating-audio-btn.playing { background: linear-gradient(180deg, rgba(255,208,140,0.14), rgba(212,175,55,0.16)); color: #fff; }

/* keep small on mobile */
@media (max-width: 420px) {
  .floating-audio-btn { width: 46px; height: 46px; }
  .floating-audio { top: 12px; left: 12px; }
}
